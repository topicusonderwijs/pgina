<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

	zenlike1.0 by nodethirtythree design
	http://www.nodethirtythree.com

-->
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<title>pGina fork</title>
<meta name="keywords" content="" />
<meta name="description" content="" />

<link rel="stylesheet" type="text/css" href="http://mutonufoai.github.io/pgina/default_doc.css" />

</head>
<body>

<div id="outer">

	<div id="header">
		<div id="headercontent">
			<h1>pGina fork</h1>
			<h2>Open Source Windows Authentication</h2>
		</div>
		<div id="logo"><a href="http://mutonufoai.github.io/pgina/index.html"><img src="http://mutonufoai.github.io/pgina/images/pginalogo.png" /></a></div>
	</div>

	
	<div id="menu">
		<!-- HINT: Set the class of any menu link below to "active" to make it appear active -->
		<ul>
			<li><a href="http://mutonufoai.github.io/pgina/index.html">Home</a></li>
			<li><a href="http://mutonufoai.github.io/pgina/download.html">Download</a></li>
      <li><a href="http://mutonufoai.github.io/pgina/support.html">Support</a></li>
      <li><a href="http://mutonufoai.github.io/pgina/documentation.html" class="active">Documentation</a></li>
      <li><a href="http://mutonufoai.github.io/pgina/develop.html">Develop</a></li>
      <li><a href="http://mutonufoai.github.io/pgina/faq.html">FAQ</a></li>
      <li><a href="http://mutonufoai.github.io/pgina/thanks.html">Thanks</a></li>
		</ul>
	</div>

	<div id="menubottom"></div>

	<div id="content">
	    
	    
		
			
<h1 id="http_authentication_plugin_documentation">Http Authentication Plugin Documentation</h1>

<ul>
<li><strong>Plugin Name:</strong> Http Authentication</li>

<li><strong>Plugin Type:</strong> Authentication, Gateway, Change Password</li>

<li><strong>Version:</strong> 3.9.9.0</li>

<li><strong>Author:</strong> Václav Klecanda</li>
</ul>

<h2 id="how_it_works">How it Works</h2>

<p>This plugin grabs user credentials and send http(s) request to login endpoint (LP). What is it good for? Well, you can let all logon implementation details to a http(s) server. It does not absolutely matter if the server is written in java, .net (fffufuu:) or python or node.js. Everything it shall do is to decide if a pair of username and password can be logged in. The request shall be application/json encoded POST request. Response (HR) to such request have status:</p>

<ul>
<li>200 and contains all info about given user. For details see HttpAuth/UInfo.cs</li>

<li>400 &lt;Error message usefully (for non programmers, please :) explaining why error occured&gt;</li>
</ul>

<p>If response contains groups that exists locally (e.g. ‘administrators’), logged user will be added to that groups.</p>

<p>Example of successful login response body (note the first blank line indicating there is no obstacle to logon):</p>

<pre><code>
gandalf
Gandalg The Gray
g@ndalf.shire
administrators;lecturers;wizards
</code></pre>

<p>Will login gandalf that will then be among local admins (and lecturers and wizards if they exists as local groups).</p>

<h2 id="implementation_details">Implementation details</h2>

<p>The HR is cached in auth stage for processing within following stages. Configuration of LP URL can be done with (in this order):</p>

<ul>
<li>setting environment variable PGINALOGINSERVER with desired URL (overrides all)</li>

<li>setup DNS server to give TXT record named ‘pginaloginserver’ containing the LP</li>

<li>pgina settings app with DEFAULT value ‘http://pginaloginserver/login’. The default value scenario can be i.e.: let DNS point the ‘pginaloginserver’ to nginx server that is able to redirect the request to an app that will handle the HR on /login route.</li>
</ul>

    
		
		<!-- Secondary content: Stuff that goes in the secondary content column (by default, the narrower right column) -->



	</div>

	<div id="footer">
			<div class="left">&copy; 2017 pgina.org</div>
			<div class="right">Original design by 
			<a href="http://www.nodethirtythree.com/">NodeThirtyThree Design</a></div>
	</div>
	
</div>

</body>
</html>

